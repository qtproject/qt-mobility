<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qvaluespacepublisher.cpp -->
  <title>Qt 1.1: QValueSpacePublisher Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css"
 />  <!--[if IE]>
<meta name="MSSmartTagsPreventParsing" content="true">
<meta http-equiv="imagetoolbar" content="no">
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie6.css">
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie7.css">
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="style/style_ie8.css">
<![endif]-->
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
 <script src="./scripts/superfish.js" type="text/javascript"></script>
 <script src="./scripts/narrow.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="style/superfish.css" />  <link rel="stylesheet" type="text/css" href="style/narrow.css" /></head>
<body class="" onload="CheckEmptyAndLoadList();">
 <div class="header" id="qtdocheader">
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Mobility Reference Documentation</span></a>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://qt.nokia.com/developer">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
        <li class="nav-topright-shop"><a title="SHOP" href="http://shop.qt.nokia.com">SHOP</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Mobility 1.1</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt.nokia.com/doc/">ALL Qt VERSIONS        </a></li>
      </ul>
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global stuff</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="declarativeui.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html#Demos">QML Demos</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li><a href="modules.html">Modules</a></li>              <li>QValueSpacePublisher</li>
            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#public-slots">Public Slots</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#protected-functions">Protected Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QValueSpacePublisher Class Reference</h1>
<p>The QValueSpacePublisher class allows applications to publish values in the Value Space. <a href="#details">More...</a></p>
<pre class="highlightedCode brush: cpp"> #include &lt;QValueSpacePublisher&gt;</pre><ul>
<li><a href="qvaluespacepublisher-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#QValueSpacePublisher">QValueSpacePublisher</a></b> ( const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#QValueSpacePublisher-2">QValueSpacePublisher</a></b> ( QValueSpace::LayerOptions <i>filter</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#QValueSpacePublisher-3">QValueSpacePublisher</a></b> ( const QUuid &amp; <i>uuid</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#dtor.QValueSpacePublisher">~QValueSpacePublisher</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#isConnected">isConnected</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#path">path</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#sync">sync</a></b> ()</td></tr>
</table>
<a name="public-slots"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Public Slots</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#resetValue">resetValue</a></b> ( const QString &amp; <i>name</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#setValue">setValue</a></b> ( const QString &amp; <i>name</i>, const QVariant &amp; <i>data</i> )</td></tr>
</table>
<a name="signals"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Signals</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#interestChanged">interestChanged</a></b> ( const QString &amp; <i>attribute</i>, bool <i>interested</i> )</td></tr>
</table>
<a name="protected-functions"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Protected Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacepublisher.html#connectNotify">connectNotify</a></b> ( const char * <i>member</i> )</td></tr>
</table>
<a name="details"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<div class="descr"/>
<h2>Detailed Description</h2>
<p>The QValueSpacePublisher class allows applications to publish values in the Value Space.</p>
<p>When multiple Value Space layers are available QValueSpacePublisher only publishes values to the layer with the highest order. The layers that QValueSpacePublisher can access can be limited by specifying either a filter or a QUuid at construction time.</p>
<p>The lifetime of values published in the Value Space is specified by the particular Value Space layer that the value is published in. For details on the different behaviors see QValueSpace::LayerOption.</p>
<p>Once a value is published all applications in the system will have read access to it via the <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> class.</p>
<p>Although, logically, the Value Space is a simple collection of hierarchical paths, these paths can conceptually be visualized as a set of objects with attributes. For example, rather than viewing the following list as 12 distinct Value Space paths:</p>
<pre class="highlightedCode brush: cpp"> /Device/Network/Interfaces/eth0/Name
 /Device/Network/Interfaces/eth0/Type
 /Device/Network/Interfaces/eth0/Status
 /Device/Network/Interfaces/eth0/BytesSent
 /Device/Network/Interfaces/eth0/BytesReceived
 /Device/Network/Interfaces/eth0/Time
 /Device/Network/Interfaces/ppp0/Name
 /Device/Network/Interfaces/ppp0/Type
 /Device/Network/Interfaces/ppp0/Status
 /Device/Network/Interfaces/ppp0/BytesSent
 /Device/Network/Interfaces/ppp0/BytesReceived
 /Device/Network/Interfaces/ppp0/Time</pre>
<p>it can be thought of as describing two Value Space objects, <tt>{ /Device/Network/Interfaces/eth0, /Device/Network/Interfaces/ppp0 }</tt>, each with the six attributes <tt>{Name, Type, Status, BytesSent, BytesReceived, Time}</tt>. The QValueSpacePublisher class encapsulates this abstraction.</p>
<p>For performance reasons the setting of and removing of attributes is buffered internally by the QValueSpacePublisher and applied as a batch sometime later. Normally this occurs the next time the application enters the Qt event loop, but this behavior should not be relied upon. If an application must synchronize with others, the <a href="qvaluespacepublisher.html#sync">QValueSpacePublisher::sync</a>() and QValueSpacePublisher::syncAll() functions can be used to force the application of changes. This call is generally unnecessary, and should be used sparingly to prevent unnecessary load on the system.</p>
</div>
<p>See also <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a>.</p>
<div class="func"/>
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QValueSpacePublisher"></a>QValueSpacePublisher::QValueSpacePublisher ( const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Constructs a <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> with the specified <i>parent</i> that publishes values under <i>path</i>.</p>
<h3 class="fn"><a name="QValueSpacePublisher-2"></a>QValueSpacePublisher::QValueSpacePublisher ( QValueSpace::LayerOptions <i>filter</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Constructs a <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> with the specified <i>parent</i> that publishes values under <i>path</i>. The <i>filter</i> parameter is used to limit which layer this <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> will access.</p>
<p>The constructed Value Space publisher will access the <a href="qabstractvaluespacelayer.html">layer</a> with the highest <a href="qabstractvaluespacelayer.html#order">order</a> that matches <i>filter</i> and for which <i>path</i> is a valid path.</p>
<p>If no suitable <a href="qabstractvaluespacelayer.html">layer</a> is found, the constructed <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> will be unconnected.</p>
<p>See also <a href="qvaluespacepublisher.html#isConnected">isConnected</a>().</p>
<h3 class="fn"><a name="QValueSpacePublisher-3"></a>QValueSpacePublisher::QValueSpacePublisher ( const QUuid &amp; <i>uuid</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Constructs a <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> with the specified <i>parent</i> that publishes values under <i>path</i>. Only the layer identified by <i>uuid</i> will be accessed by this publisher.</p>
<p>Use of this constructor is not platform agnostic. If possible use one of the constructors that take a QAbstractValueSpaceLayer::LayerOptions parameter instead.</p>
<p>If a layer with a matching <i>uuid</i> is not found, the constructed <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> will be unconnected.</p>
<p>See also <a href="qvaluespacepublisher.html#isConnected">isConnected</a>().</p>
<h3 class="fn"><a name="dtor.QValueSpacePublisher"></a>QValueSpacePublisher::~QValueSpacePublisher ()<tt> [virtual]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Destroys the <a href="qvaluespacepublisher.html">QValueSpacePublisher</a>. This will remove all values published by this publisher in non-permanent layers.</p>
<h3 class="fn"><a name="connectNotify"></a>void QValueSpacePublisher::connectNotify ( const char * <i>member</i> )<tt> [virtual protected]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Registers this <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> for notifications when QValueSpaceSubscribers are interested in values under <a href="qvaluespacepublisher.html#path">path</a>().</p>
<p>Generally you do not need to call this function as it is automatically called when connections are made to this classes signals. <i>member</i> is the signal that has been connected.</p>
<p>If you reimplement this virtual function it is important that you call this implementation from your implementation.</p>
<p>See also <a href="qvaluespacepublisher.html#interestChanged">interestChanged</a>().</p>
<h3 class="fn"><a name="interestChanged"></a>void QValueSpacePublisher::interestChanged ( const QString &amp; <i>attribute</i>, bool <i>interested</i> )<tt> [signal]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Signal that is emitted when interest in <i>attribute</i> changes. If <i>interested</i> is true at least on <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> is interested in the value of <i>attribute</i>.</p>
<h3 class="fn"><a name="isConnected"></a>bool QValueSpacePublisher::isConnected () const</h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Returns true if this <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> is connected to an available layer; otherwise returns false.</p>
<h3 class="fn"><a name="path"></a>QString QValueSpacePublisher::path () const</h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Returns the path that this <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> refers to.</p>
<h3 class="fn"><a name="resetValue"></a>void QValueSpacePublisher::resetValue ( const QString &amp; <i>name</i> )<tt> [slot]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Removes the value <i>name</i> and all sub-attributes from the system.</p>
<p>For example:</p>
<pre class="highlightedCode brush: cpp"> QValueSpacePublisher publisher(&quot;/Device&quot;);
 publisher.setValue(&quot;State&quot;, &quot;Starting&quot;);
 publisher.setValue(&quot;State/Memory&quot;, &quot;1000&quot;);
 publisher.sync();
<span class="comment"> // QValueSpaceSubscriber(&quot;/Device/State&quot;).value() == QVariant(&quot;Starting&quot;)</span>
<span class="comment"> // QValueSpaceSubscriber(&quot;/Device/State/Memory&quot;).value() == QVariant(&quot;1000&quot;)</span>

 publisher.resetValue(&quot;State&quot;);
 publisher.sync();
<span class="comment"> // QValueSpaceSubscriber(&quot;/Device/State&quot;).value() == QVariant();</span>
<span class="comment"> // QValueSpaceSubscriber(&quot;/Device/State/Memory&quot;).value() == QVariant();</span></pre>
<h3 class="fn"><a name="setValue"></a>void QValueSpacePublisher::setValue ( const QString &amp; <i>name</i>, const QVariant &amp; <i>data</i> )<tt> [slot]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Sets the value <i>name</i> on the publisher to <i>data</i>. If name is empty, this call will set the value of this publisher's path.</p>
<p>For example:</p>
<pre class="highlightedCode brush: cpp"> QValueSpacePublisher publisher(&quot;/Device&quot;);
 publisher.setValue(&quot;State&quot;, &quot;Starting&quot;);
 publisher.sync();

<span class="comment"> // QValueSpaceSubscriber(&quot;/Device/State&quot;).value() == QVariant(&quot;Starting&quot;)</span></pre>
<h3 class="fn"><a name="sync"></a>void QValueSpacePublisher::sync ()</h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Forcibly sync all Value Space publisher using the same layer as this publisher.</p>
<p>For performance reasons attribute changes are batched internally by <a href="qvaluespacepublisher.html">QValueSpacePublisher</a> instances. In cases where the visibility of changes must be synchronized with other processes, calling this function will flush these batches. By the time this function returns, all other processes in the system will be able to see the attribute changes.</p>
<p>Generally, calling this function is unnecessary.</p>
</div>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009-2010 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.1.0</div></td>
</tr></table></div></address>  <script src="scripts/functions.js" type="text/javascript"></script>
  <!-- <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4457116-5']);
  _gaq.push(['_trackPageview']);
  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script> -->
</body>
</html>

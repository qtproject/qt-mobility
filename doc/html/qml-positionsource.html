<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qdeclarativepositionsource.cpp -->
  <title>Qt Mobility Project 1.0: QML PositionSource Element</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" /></head>
<body class="offline narrow" >
  <script src="scripts/functions.js" type="text/javascript"></script>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qtlogo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot;</td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table>              <li><a href="qdeclarativeelements.html">QML Elements</a></li>              <li>QML PositionSource Element</li><h1 class="title">QML PositionSource Element</h1>
<span class="subtitle"></span>
<p>The PositionSource element allows you to get information about your current position. <a href="#details">More...</a></p>
<a name="Propertiesx"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Properties</h2>
<tr class="odd topAlign"><ul>
<li class="fn"><b><b><a href="qml-positionsource.html#PositioningMethods-prop">PositioningMethods</a></b></b> : enumeration</li>
<li class="fn"><b><b><a href="qml-positionsource.html#active-prop">active</a></b></b> : bool</li>
<li class="fn"><b><b><a href="qml-positionsource.html#nmeaSource-prop">nmeaSource</a></b></b> : url</li>
<li class="fn"><b><b><a href="qml-positionsource.html#position-prop">position</a></b></b> : Position</li>
<li class="fn"><b><b><a href="qml-positionsource.html#updateInterval-prop">updateInterval</a></b></b> : bool</li>
</ul>
<a name="Signalsx"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Signals</h2>
<tr class="even topAlign"><ul>
<li class="fn"><b><b><a href="qml-positionsource.html#positionChanged-signal">positionChanged</a></b></b></li>
</ul>
<a name="Methods"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Methods</h2>
<tr class="odd topAlign"><ul>
<li class="fn"><b><b><a href="qml-positionsource.html#start-method">start</a></b></b></li>
<li class="fn"><b><b><a href="qml-positionsource.html#stop-method">stop</a></b></b></li>
<li class="fn"><b><b><a href="qml-positionsource.html#update-method">update</a></b></b></li>
</ul>
<a name="details"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Detailed Description</h2>
<p>The PositionSource element allows you to get information about your current position. You can receive information about things such as <a href="qml-position.html#latitude-prop">Position::latitude</a>, <a href="qml-position.html#longtitude-prop">Position::longtitude</a>, <a href="qml-position.html#speed-prop">Position::speed</a>, and <a href="qml-position.html#altitude-prop">Position::altitude</a>. This element is part of the <b>QtMobility.location 1.0</b> module.</p>
<p>Support for location sources are platform dependant. When declaring a PositionSource element, a default PositionSource source shall be created. Supported positioning methods are held in <a href="qml-positionsource.html#PositioningMethods-prop">PositioningMethods</a>. As a development convinience, one may also set data file as a source (NMEA format). Location updates are not necessarily started automatically upon element declaration, see <a href="qml-positionsource.html#start-method">start</a> <a href="qml-positionsource.html#stop-method">stop</a> <a href="qml-positionsource.html#active-prop">active</a> and <a href="qml-positionsource.html#update-method">update</a>.</p>
<p>Here is very simple self-contained example QML to illustrate the usage:</p>
<pre class="highlightedCode brush: cpp">    import Qt 4.7
    import QtMobility.location 1.0

    Rectangle {
        id: page
        width: 350
        height: 350
        color: &quot;olive&quot;

        Text {
            id: title
            text: &quot;Simple position test app&quot;
            font {pointSize: 12; bold: true}
        }
        PositionSource {
            id: positionSource
            active: true
            updateInterval: 1000
        }
        Column {
            id: data
            anchors {top: title.bottom; left: title.left}
            Text {text: &quot;&lt;==== PositionSource ====&gt;&quot;}
            Text {text: &quot;positioningMethod: &quot;  + printableMethod(positionSource.positioningMethod)}
            Text {text: &quot;nmeaSource: &quot;         + positionSource.nmeaSource}
            Text {text: &quot;updateInterval: &quot;     + positionSource.updateInterval}
            Text {text: &quot;active: &quot;     + positionSource.active}
            Text {text: &quot;&lt;==== Position ====&gt;&quot;}
            Text {text: &quot;latitude: &quot;   + positionSource.position.latitude}
            Text {text: &quot;longtitude: &quot;   + positionSource.position.longtitude}
            Text {text: &quot;altitude: &quot;   + positionSource.position.altitude}
            Text {text: &quot;speed: &quot; + positionSource.position.speed}
            Text {text: &quot;timestamp: &quot;  + positionSource.position.timestamp}
            Text {text: &quot;altitudeValid: &quot;  + positionSource.position.altitudeValid}
            Text {text: &quot;longtitudeValid: &quot;  + positionSource.position.longtitudeValid}
            Text {text: &quot;latitudeValid: &quot;  + positionSource.position.latitudeValid}
            Text {text: &quot;speedValid: &quot;     + positionSource.position.speedValid}
        }
        function printableMethod(method) {
            if (method == PositionSource.SatellitePositioningMethod)
                return &quot;Satellite&quot;;
            else if (method == PositionSource.NoPositioningMethod)
                return &quot;Not available&quot;
            else if (method == PositionSource.NonSatellitePositioningMethod)
                return &quot;Non-satellite&quot;
            else if (method == PositionSource.AllPositioningMethods)
                return &quot;All/multiple&quot;
            return &quot;source error&quot;;
        }
    }</pre>
<p>See also <a href="qgeopositioninfosource.html">QGeoPositionInfoSource</a>, <a href="qgeopositioninfo.html">QGeoPositionInfo</a>, <a href="qnmeapositioninfosource.html">QNmeaPositionInfoSource</a>, and <a href="qgeocoordinate.html">QGeoCoordinate</a>.</p>
<h2>Property Documentation</h2>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="PositioningMethods-prop"></a>PositioningMethods : enumeration</td></tr></table></div><div class="qmldoc"><p>This property holds the supported positioning methods of the current source.</p>
<ul>
<li>NoPositioningMethod - No positioning methods supported (no source).</li>
<li>SatellitePositioningMethod - Satellite-based positioning methods such as GPS is supported.</li>
<li>NonSatellitePositioningMethod - Non satellite methods are supported.</li>
<li>AllPositioningMethods - Combination of methods are supported.</li>
</ul>
</div></div><br/>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="active-prop"></a>active : bool</td></tr></table></div><div class="qmldoc"><p>This property indicates whether the position source is (/should be) active. Setting this property to false equals calling <a href="qml-positionsource.html#stop-method">stop</a>, and setting this property true equals calling <a href="qml-positionsource.html#start-method">start</a>.</p>
<p>See also <a href="qml-positionsource.html#start-method">start</a>, <a href="qml-positionsource.html#stop-method">stop</a>, and <a href="qml-positionsource.html#update-method">update</a>.</p>
</div></div><br/>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="nmeaSource-prop"></a>nmeaSource : url</td></tr></table></div><div class="qmldoc"><p>This property holds the source for NMEA data (file). One purpose of this property is to be of development convinience.</p>
<p>Setting this property will override any other position source. Currently only files local to the .qml -file are supported. Nmea source is created in simulation mode, meaning that the data and time information in the NMEA source data is used to provide positional updates at the rate at which the data was originally recorded.</p>
<p>If nmeaSource has been set for a <a href="qml-positionsource.html">PositionSource</a> element, there is no way to revert back to non-file sources.</p>
<p>For example if there is a file called &quot;nmealog.txt&quot; in the same folder as the .qml file:</p>
<pre class="highlightedCode brush: cpp">    PositionSource {
        id: positionSource
        nmeaSource: &quot;nmealog.txt&quot;
    }</pre>
</div></div><br/>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="position-prop"></a>position : <a href="qml-position.html">Position</a></td></tr></table></div><div class="qmldoc"><p>This property holds the last known positional data.</p>
<p>The Position element has different positional member variables, whose validity can be checked with appropriate validity functions (e.g&#x2e; sometimes an update does not have speed or altitude data).</p>
<p>However, whenever a <a href="qml-positionsource.html#positionChanged-signal">positionChanged</a> signal has been received, at least <a href="qml-position.html#latitude-prop">Position::latitude</a>, <a href="qml-position.html#longtitude-prop">Position::longtitude</a>, and <a href="qml-position.html#timestamp-prop">Position::timestamp</a> can be assumed to be valid.</p>
<p>See also <a href="qml-positionsource.html#start-method">start</a>, <a href="qml-positionsource.html#stop-method">stop</a>, and <a href="qml-positionsource.html#update-method">update</a>.</p>
</div></div><br/>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="updateInterval-prop"></a>updateInterval : bool</td></tr></table></div><div class="qmldoc"><p>This property holds the desired interval between updates (milliseconds).</p>
<p>See also <a href="qgeopositioninfosource.html#updateInterval-prop">QGeoPositionInfoSource::updateInterval</a>().</p>
</div></div><br/>
<h2>Signal Documentation</h2>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="positionChanged-signal"></a>PositionSource::positionChanged ()</p></td></tr></table></div><div class="qmldoc"><p>This signal is sent when a position update has been received from the location source. Upon receiving this signal, at least <a href="qml-position.html#latitude-prop">Position::latitude</a>, <a href="qml-position.html#longtitude-prop">Position::longtitude</a>, and <a href="qml-position.html#timestamp-prop">Position::timestamp</a> members of the <a href="qml-positionsource.html#position-prop">position</a> have been update.</p>
<p>See also <a href="qml-positionsource.html#updateInterval-prop">updateInterval</a>.</p>
</div></div><br/>
<h2>Method Documentation</h2>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="start-method"></a>PositionSource::start ()</p></td></tr></table></div><div class="qmldoc"><p>Requests updates from the location source. Uses <a href="qml-positionsource.html#updateInterval-prop">updateInterval</a> if set, default interval otherwise. If there is no source available, this method has no effect.</p>
<p>See also <a href="qml-positionsource.html#stop-method">stop</a>, <a href="qml-positionsource.html#update-method">update</a>, and <a href="qml-positionsource.html#active-prop">active</a>.</p>
</div></div><br/>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="stop-method"></a>PositionSource::stop ()</p></td></tr></table></div><div class="qmldoc"><p>Stops updates from the location source. If there is no source available or it is not active, this method has no effect.</p>
<p>See also <a href="qml-positionsource.html#start-method">start</a>, <a href="qml-positionsource.html#update-method">update</a>, and <a href="qml-positionsource.html#active-prop">active</a>.</p>
</div></div><br/>
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td><p><a name="update-method"></a>PositionSource::update ()</p></td></tr></table></div><div class="qmldoc"><p>A convinience method to request single update from the location source. If there is no source available, this method has no effect.</p>
<p>See also <a href="qml-positionsource.html#start-method">start</a>, <a href="qml-positionsource.html#stop-method">stop</a>, and <a href="qml-positionsource.html#active-prop">active</a>.</p>
</div></div><br/>
<p>
</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2010 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.0.2</div></td>
</tr></table></div></address></body>
</html>
